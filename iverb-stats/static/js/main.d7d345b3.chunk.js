(this["webpackJsonpiverb-stats"]=this["webpackJsonpiverb-stats"]||[]).push([[0],{155:function(e,a,t){e.exports=t(177)},177:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(11),o=t.n(l),i=t(139),c=t(14),m=t(52),s=t(19),u=t(259),d=t(229),f=t(258),p=t(95),b=t(94),E=t(93),g=t(138),v=t(235),h=t(234),y=t(30),w=t(266),k=t(237),x=t(238),j=t(231),O=t(179),D=t(233),S=t(269),B=t(236),T=t(71),C=t(128),N=t.n(C),P=function(){var e=r.a.useRef(!1);return r.a.useEffect((function(){return e.current=!0,function(){return e.current=!1}}),[]),e},L=Object(d.a)((function(e){return{root:{paddingBottom:e.spacing(8)},list:{width:e.spacing(25)},menuButton:{marginLeft:-12,marginRight:20},drawer:{width:240,flexShrink:0},appBar:{zIndex:e.zIndex.drawer+1},flex:{flex:1},active:{color:e.palette.primary.main}}})),R=[{title:"404 - Page Not Found",link:null,inDrawer:!1},{title:"iverb-stats",link:"/",inDrawer:!1},{title:"Records",link:"/records",inDrawer:!0,default:!0},{title:"Rankings",link:"/ranks",inDrawer:!0,default:!0},{title:"Statistics",link:"/stats",inDrawer:!0,default:!0},{title:"Demo Inspection",link:"/demo",inDrawer:!1},{title:"About",link:"/about",inDrawer:!1}],M=Object(s.g)((function(e){var a,t=e.location,n=r.a.useState(!1),l=Object(c.a)(n,2),o=l[0],i=l[1],s=r.a.useMemo((function(){return R.find((function(e){return e.link===t.pathname||null!==e.link&&t.pathname.startsWith(e.link+"/")}))||R[0]}),[t]);a=s.title,r.a.useEffect((function(){document.title=a+" - "+document.location.host}),[a]);var u=function(e){return function(){i(e)}},d=L(),f=r.a.createElement("div",{className:d.list},r.a.createElement(j.a,null,r.a.createElement(O.a,{button:!0,key:0,component:m.b,to:"/"},r.a.createElement(D.a,{primary:"iverb-stats"}))),r.a.createElement(h.a,null),r.a.createElement(j.a,null,R.filter((function(e){return e.inDrawer})).map((function(e,a){return r.a.createElement(O.a,{button:!0,key:a,component:m.b,to:e.link,className:e.title===s.title?d.active:void 0},r.a.createElement(D.a,{primary:e.title}))})),r.a.createElement(h.a,null),r.a.createElement(j.a,null,r.a.createElement(O.a,{button:!0,key:0,component:m.b,to:"/demo"},r.a.createElement(D.a,{primary:"Demo Inspection"})),r.a.createElement(O.a,{button:!0,key:1,component:m.b,to:"/about"},r.a.createElement(D.a,{primary:"About"})))));return r.a.createElement("div",{className:d.root},r.a.createElement(v.a,{className:d.appBar,position:"fixed"},r.a.createElement(B.a,null,r.a.createElement(w.a,{lgUp:!0},r.a.createElement(k.a,{className:d.menuButton,onClick:u(!0),color:"inherit"},r.a.createElement(N.a,null))),r.a.createElement(T.a,{variant:"h6",color:"inherit"},r.a.createElement(x.a,{component:m.b,to:"/",color:"inherit",underline:"none"},"iverb-stats")))),r.a.createElement(w.a,{lgUp:!0,implementation:"css"},r.a.createElement(S.a,{open:o,onClose:u(!1),onOpen:u(!0),variant:"temporary"},r.a.createElement("div",{tabIndex:0,role:"button",onClick:u(!1),onKeyDown:u(!1)},f))),r.a.createElement(w.a,{mdDown:!0,implementation:"css"},r.a.createElement(y.a,{variant:"permanent"},r.a.createElement("div",{tabIndex:0,role:"button"},f))))})),I=t(242),z=t(241),Y=t(180),q=t(272),_=t(240),F=function(e){var a=e.children;return r.a.createElement(_.a,{container:!0},r.a.createElement(_.a,{item:!0,xs:!1,md:1,lg:2}),r.a.createElement(_.a,{item:!0,xs:12,md:10,lg:9},a))},W=t(12),A=t(88),X=t(89),H={darkMode:new(function(){function e(){Object(A.a)(this,e),this.enabled="true"===localStorage.getItem("dark_mode")}return Object(X.a)(e,[{key:"toggle",value:function(){return this.enabled=!this.enabled,localStorage.setItem("dark_mode",this.enabled.toString()),this}}]),e}())},U=[function(e,a){switch(a.action){case"toggleDarkMode":return Object(W.a)(Object(W.a)({},e),{},{darkMode:e.darkMode.toggle()});default:throw new Error("Unknown action type.")}},H],J=r.a.createContext(H),K=Object(d.a)((function(e){return{aboutBox:{padding:e.spacing(3)}}})),G=function(){return r.a.createElement("div",{style:{paddingTop:"50px"}})},$=function(){var e=r.a.useContext(J),a=e.state.darkMode,t=e.dispatch,n=K();return r.a.createElement(F,null,r.a.createElement(Y.a,{className:n.aboutBox},r.a.createElement(T.a,{component:"h2",variant:"h5"},"Portal 2 World Records & Statistics"),r.a.createElement("br",null),r.a.createElement(T.a,{variant:"body1"},"aka iverb 1\xbd"),r.a.createElement(G,null),r.a.createElement(T.a,{variant:"h5"},"Theme Settings"),r.a.createElement("br",null),r.a.createElement(z.a,{row:!0},r.a.createElement(I.a,{control:r.a.createElement(q.a,{checked:a.enabled,onChange:function(){t({action:"toggleDarkMode"})},color:"primary"}),label:"Dark Mode"})),r.a.createElement(G,null),r.a.createElement(T.a,{variant:"h5"},"Credits"),r.a.createElement("br",null),r.a.createElement(x.a,{rel:"noopener",href:"https://board.iverb.me"},"board.iverb.me"),r.a.createElement("br",null),r.a.createElement(x.a,{rel:"noopener",href:"https://github.com/NeKzor/sdp.js"},"sdp.js")))},Q=t(129),V=t.n(Q),Z=t(243),ee=t(268),ae=t(264),te=t(13),ne=function(e){return r.a.createElement(ae.a,Object.assign({elevation:6,variant:"filled"},e))},re={info:"drag & drop demo here :)"},le=function(){var e=P(),a=Object(te.a)(),t=r.a.useState(re),n=Object(c.a)(t,2),l=n[0],o=n[1],i=r.a.useState(!1),m=Object(c.a)(i,2),s=m[0],u=m[1],d=function(e,a){"clickaway"!==a&&u(!1)},f=r.a.useCallback((function(a){if(a){var t=new FileReader;t.onload=function(a){var t=a.target.result;try{if(!e.current)return;o(re),u(!1);var n=window,r=n.Buffer,l=n.SourceDemoParser,i=n.Speedrun,c=l.default(),m=i.SourceTimer.default(),s=i.SarTimer.default(),d=window.demo=c.parse(r.from(t));if(d.detectGame().adjustTicks(),d.adjustRange(),0===d.playbackTicks){var f=d.getIntervalPerTick();d.playbackTicks=1,d.playbackTime=f}else d.speedrun=m.time(d),d.sar=s.time(d);if(!e.current)return;!function e(a){Object.keys(a).forEach((function(t){"_view"===t?delete a._view:"object"===typeof a[t]&&e(a[t])}))}(d),o(d)}catch(p){e.current&&u(p.message)}},t.readAsArrayBuffer(a)}}),[e,o,u]),p=r.a.useCallback((function(e){return f(e.target.files[0])}),[f]),b=function(e){e.dataTransfer.items?e.dataTransfer.items.clear():e.dataTransfer.clearData()};r.a.useEffect((function(){return document.querySelector("#file").addEventListener("change",p),function(){return document.querySelector("#file").removeEventListener("change",p)}}),[p]);return r.a.createElement(F,null,r.a.createElement(Y.a,{style:{padding:"20px 20px 20px 20px"}},r.a.createElement(Z.a,{variant:"contained",color:"primary",disableElevation:!0,onClick:function(){document.querySelector("#file").click()}},"Open file"),r.a.createElement("input",{type:"file",id:"file",style:{display:"none"}}),r.a.createElement("div",{style:{paddingBottom:"20px"}}),r.a.createElement("div",{onDrop:function(e){e.preventDefault();var a=[];if(e.dataTransfer.items)for(var t=0;t<e.dataTransfer.items.length;++t)"file"===e.dataTransfer.items[t].kind&&a.push(e.dataTransfer.items[t].getAsFile());f(a[0]),b(e)},onDragOver:function(e){e.preventDefault()}},r.a.createElement(V.a,{name:"demo",style:{fontSize:"14px"},src:l,theme:"light"===a.palette.type?"bright:inverted":"solarized",displayDataTypes:!1,displayObjectSize:!1,enableClipboard:!1})),r.a.createElement(ee.a,{open:!1!==s,autoHideDuration:6e3,onClose:d},r.a.createElement(ne,{onClose:d,severity:"error"},s))))},oe=function(e){var a=e.data,t=e.props;return r.a.createElement(T.a,Object.assign({variant:"h5",gutterBottom:!0,style:{padding:"50px 0px 50px 50px"}},t),a)},ie=function(){return r.a.createElement(F,null,r.a.createElement(Y.a,null,r.a.createElement(oe,{data:"Page not found :("})))},ce=t(25),me=t.n(ce),se=t(57),ue=t(49),de=t(67),fe=t(44),pe=t.n(fe),be=t(261),Ee=t(254),ge=t(255),ve=t(263),he=t(270),ye=t(248),we=t(249),ke=t(247),xe=t(245),je=t(246),Oe=t(271),De=t(267),Se={numeric:!0},Be=function(e,a,t){var n=function(e,a){var n=Ce(e,t).toString();return Ce(a,t).toString().localeCompare(n,void 0,Se)},r="desc"===a?function(e,a){return n(e,a)}:function(e,a){return-n(e,a)};return e.map((function(e,a){return[e,a]})).sort((function(e,a){var t=r(e[0],a[0]);return 0!==t?t:e[1]-a[1]})).map((function(e){return e[0]}))},Te=function(e,a,t,n){if(t===n)return Be(e,a,t);var r=function(e,a){var r=Ce(e,t).toString(),l=Ce(a,t).toString(),o=l.localeCompare(r,void 0,Se);return 0!==o?o:(r=Ce(e,n).toString(),(l=Ce(a,n).toString()).localeCompare(r,void 0,Se))},l="desc"===a?function(e,a){return r(e,a)}:function(e,a){return-r(e,a)};return e.map((function(e,a){return[e,a]})).sort((function(e,a){var t=l(e[0],a[0]);return 0!==t?t:e[1]-a[1]})).map((function(e){return e[0]}))},Ce=function(e,a){return-1!==a.indexOf(".")?a.split(".").filter((function(e){return e})).reduce((function(e,a){return e&&e[a]}),e):e[a]},Ne=[{id:"user.name",sortable:!1,label:"Player",align:"left"},{id:"wrs",id2:"duration",sortable:!0,label:"World Records",align:"left"},{id:"duration",id2:"wrs",sortable:!0,label:"Total Duration",align:"left"}],Pe=function(e){var a=e.order,t=e.orderBy,n=e.onRequestSort,l=e.showDuration;return r.a.createElement(xe.a,null,r.a.createElement(je.a,null,Ne.filter((function(e){return"duration"!==e.id||l})).map((function(e){return r.a.createElement(ke.a,{key:e.id,align:e.align,padding:"default",sortDirection:t===e.id&&a},!0===e.sortable&&r.a.createElement(De.a,{title:"Sort by "+e.label,placement:"bottom-start",enterDelay:300},r.a.createElement(Oe.a,{active:t===e.id,direction:a,onClick:(l=e.id,o=e.id2,function(e){n(e,l,o)})},e.label)),!1===e.sortable&&e.label);var l,o}))))},Le=Object(d.a)((function(e){return{root:{overflowX:"auto"},avatar:{width:e.spacing(3),height:e.spacing(3),marginRight:10}}})),Re={order:"desc",orderBy:"wrs",thenBy:"duration",page:0,rowsPerPage:50},Me={whiteSpace:"nowrap"},Ie={padding:"7px 0px 7px 16px"},ze=function(e){return r.a.createElement(ke.a,Object.assign({style:Ie},e))},Ye=function(e){var a=e.data,t=e.showDuration,n=r.a.useState(Object(W.a)({},Re)),l=Object(c.a)(n,2),o=l[0],i=o.order,m=o.orderBy,s=o.thenBy,u=o.rowsPerPage,d=o.page,f=l[1],p=Le();return r.a.createElement("div",{className:p.root},r.a.createElement(ye.a,{size:"small"},r.a.createElement(Pe,{order:i,orderBy:m,onRequestSort:function(e,a,t){var n=a,r=t;f((function(e){return Object(W.a)(Object(W.a)({},e),{},{order:e.orderBy===n&&"desc"===e.order?"asc":"desc",orderBy:n,thenBy:r})}))},showDuration:t}),r.a.createElement(we.a,null,(t?Te:Be)(a,i,m,s).slice(d*u,d*u+u).map((function(e){return r.a.createElement(je.a,{tabIndex:-1,key:e.user.id},r.a.createElement(ze,{align:"left"},r.a.createElement(_.a,{container:!0,direction:"row",alignItems:"center"},r.a.createElement(he.a,{className:p.avatar,src:e.user.avatar}),r.a.createElement(x.a,{style:Me,color:"inherit",href:"https://board.iverb.me/profile/"+e.user.id,rel:"noreferrer",target:"_blank"},e.user.name))),r.a.createElement(ze,{align:"left"},e.wrs),t&&r.a.createElement(ze,{align:"left"},e.duration," day",1===e.duration?"":"s"))})))))},qe=t(26),_e=t.n(qe),Fe=t(250),We=t(113),Ae=t.n(We),Xe=t(135),He=t.n(Xe),Ue=t(114),Je=t.n(Ue),Ke=t(260);function Ge(e){if(void 0===e||null===e)return e;var a=e%100,t=Math.floor(e/100),n=t%60,r=Math.floor(t/60);return(r>0?r+":":"")+(n<10&&r>0?"0"+n:n)+"."+(a<10?"0"+a:a)}var $e=Object(Ke.a)().domain([0,24,336,1440]).range(["#2eb82e","#258e25","#cca300","#e67300"]);function Qe(e){var a=pe()().diff(pe()(e),"hours");return a<=1440?$e(a):void 0}Object(Ke.a)().domain([0,480,960,1440]).range(["#2eb82e","#cca300","#e67300","#e63200"]);var Ve=[{id:"map.name",sortable:!0,label:"Chamber",align:"left"},{id:"score",sortable:!0,label:"Record",align:"left"},{id:"user.name",sortable:!0,label:"Player",align:"left"},{id:"date",sortable:!0,label:"Date",align:"left"},{id:"duration",sortable:!0,label:"Duration",align:"left"},{id:"id",sortable:!1,label:"",align:"left"}],Ze=function(e){var a=e.order,t=e.orderBy,n=e.onRequestSort;return r.a.createElement(xe.a,null,r.a.createElement(je.a,null,Ve.map((function(e,l){return r.a.createElement(ke.a,{key:l,align:e.align,padding:"default",sortDirection:t===e.id&&a,colSpan:l===Ve.length-1?2:1},!0===e.sortable&&r.a.createElement(De.a,{title:"Sort by "+e.label,placement:"bottom-start",enterDelay:300},r.a.createElement(Oe.a,{active:t===e.id,direction:a,onClick:(o=e.id,function(e){n(e,o)})},e.label)),!1===e.sortable&&e.label);var o}))))},ea=Object(d.a)((function(e){return{root:{overflowX:"auto"}}})),aa={order:"asc",orderBy:"map.index",page:0,rowsPerPage:250},ta={whiteSpace:"nowrap"},na={padding:"7px 0px 7px 16px"},ra=function(e){return r.a.createElement(ke.a,Object.assign({style:na},e))},la=Object(d.a)((function(e){return{root:{"& > *":{borderBottom:"unset"}},avatar:{width:e.spacing(3),height:e.spacing(3),marginRight:10}}})),oa=function(e){var a=e.wr,t=Ge(a.score),n=null!==a.delta?Ge(a.delta):null,l=!1!==a.isPartner||!a.partnerId;return r.a.createElement(je.a,{tabIndex:-1},l&&r.a.createElement(ra,{align:"left",rowSpan:!0===a.isPartner?2:1},r.a.createElement(De.a,{title:r.a.createElement(_e.a,{fromNow:!0},a.date),placement:"bottom-end",enterDelay:300},r.a.createElement(_e.a,{style:Object(W.a)({color:Qe(a.date)},ta),format:"YYYY-MM-DD"},a.date))),l&&r.a.createElement(ra,{align:"left",rowSpan:!0===a.isPartner?2:1},t),l&&r.a.createElement(ra,{align:"left",rowSpan:!0===a.isPartner?2:1},n?"-"+n:""),r.a.createElement(ra,{align:"left"},r.a.createElement(x.a,{color:"inherit",href:"https://board.iverb.me/profile/".concat(a.user.id),rel:"noreferrer",target:"_blank"},a.user.name)),r.a.createElement(ra,{align:"left"},a.demo&&r.a.createElement(De.a,{title:"Download Demo",placement:"bottom",enterDelay:300},r.a.createElement(k.a,{size:"small",style:ta,color:"inherit",href:"https://board.iverb.me/getDemo?id="+a.id,rel:"noreferrer",target:"_blank"},r.a.createElement(Ae.a,{fontSize:"inherit"}))),a.media&&r.a.createElement(De.a,{title:"Watch on YouTube",placement:"bottom",enterDelay:300},r.a.createElement(k.a,{size:"small",style:Object(W.a)(Object(W.a)({},ta),{},{marginLeft:a.demo?void 0:24}),color:"inherit",href:"https://youtu.be/"+a.media,rel:"noreferrer",target:"_blank"},r.a.createElement(Je.a,{fontSize:"inherit"})))))},ia=function(e){var a=e.wr,t=e.orderBy,n=e.useLiveDuration,l=e.history,o=e.onClickHistory,i=Ge(a.score),c=null!==a.delta?Ge(a.delta):null,m=la(),s=l===a.map.id;return r.a.createElement(r.a.Fragment,null,r.a.createElement(je.a,{tabIndex:-1},(a.map.isFirst||"map.name"!==t&&"map.index"!==t)&&r.a.createElement(ra,{style:ta,rowSpan:"map.name"===t||"map.index"===t?a.map.records:1,align:"left"},r.a.createElement(x.a,{color:"inherit",href:"https://board.iverb.me/chamber/".concat(a.map.id),rel:"noreferrer",target:"_blank"},a.map.name)),(a.map.isFirst||"map.name"!==t&&"map.index"!==t)&&r.a.createElement(ra,{rowSpan:"map.name"===t||"map.index"===t?a.map.records:1,align:"left"},c&&r.a.createElement(De.a,{title:r.a.createElement("span",null,"-",c," to former record"),placement:"bottom",enterDelay:300},r.a.createElement("span",null,i)),!c&&r.a.createElement("span",null,i)),r.a.createElement(ra,{align:"left"},r.a.createElement(_.a,{container:!0,direction:"row",alignItems:"center"},r.a.createElement(he.a,{className:m.avatar,src:a.user.avatar}),r.a.createElement(x.a,{color:"inherit",href:"https://board.iverb.me/profile/".concat(a.user.id),rel:"noreferrer",target:"_blank"},a.user.name))),r.a.createElement(ra,{align:"left"},r.a.createElement(De.a,{title:r.a.createElement(_e.a,{fromNow:!0},a.date),placement:"bottom-end",enterDelay:300},r.a.createElement(_e.a,{style:Object(W.a)({color:Qe(a.date)},ta),format:"YYYY-MM-DD"},a.date))),r.a.createElement(ra,{align:"left"},r.a.createElement(De.a,{title:"in days",placement:"bottom-end",enterDelay:300},n?r.a.createElement(_e.a,{style:ta,diff:a.date,unit:"days"}):r.a.createElement("span",null,a.duration))),r.a.createElement(ra,{align:"left"},a.demo&&r.a.createElement(De.a,{title:"Download Demo",placement:"bottom",enterDelay:300},r.a.createElement(k.a,{size:"small",style:ta,color:"inherit",href:"https://board.iverb.me/getDemo?id="+a.id,rel:"noreferrer",target:"_blank"},r.a.createElement(Ae.a,{fontSize:"inherit"}))),a.media&&r.a.createElement(De.a,{title:"Watch on YouTube",placement:"bottom",enterDelay:300},r.a.createElement(k.a,{size:"small",style:Object(W.a)(Object(W.a)({},ta),{},{marginLeft:a.demo?void 0:24}),color:"inherit",href:"https://youtu.be/"+a.media,rel:"noreferrer",target:"_blank"},r.a.createElement(Je.a,{fontSize:"inherit"}))),a.map.isLast&&a.map.history&&r.a.createElement(k.a,{color:"inherit",size:"small",style:Object(W.a)(Object(W.a)({},ta),{},{marginLeft:a.demo||a.media?a.media?void 0:24:48}),onClick:function(){return o(a.map.id)}},r.a.createElement(He.a,{fontSize:"inherit"})))),a.map.isLast&&a.map.history&&r.a.createElement(je.a,{className:m.root},r.a.createElement(ra,{style:{paddingBottom:0,paddingTop:0},colSpan:7},r.a.createElement(Fe.a,{in:s,timeout:"auto",unmountOnExit:!0},r.a.createElement(be.a,{margin:1},r.a.createElement(T.a,{variant:"h6",gutterBottom:!0,component:"div"},"History"),r.a.createElement(ye.a,{size:"small","aria-label":"purchases"},r.a.createElement(xe.a,null,r.a.createElement(je.a,null,r.a.createElement(ra,null,"Date"),r.a.createElement(ra,null,"Record"),r.a.createElement(ra,null,"Timesave"),r.a.createElement(ra,{colSpan:2},"Player"))),r.a.createElement(we.a,null,a.map.history.map((function(e,a){return r.a.createElement(oa,{wr:e,key:a})})))))))))},ca=function(e){var a=e.data,t=e.stats,n=e.useLiveDuration,l=r.a.useState(aa),o=Object(c.a)(l,2),i=o[0],m=i.order,s=i.rowsPerPage,u=i.orderBy,d=i.page,f=o[1],p=r.a.useState(null),b=Object(c.a)(p,2),E=b[0],g=b[1],v=r.a.useCallback((function(e){g(E!==e?e:null)}),[E,g]),h=ea();return r.a.createElement("div",{className:h.root},r.a.createElement(ye.a,{size:"small"},r.a.createElement(Ze,{order:m,orderBy:u,onRequestSort:function(e,a){var t=a;f((function(e){return Object(W.a)(Object(W.a)({},e),{},{order:e.orderBy===t||"desc"===e.order?"asc":"desc",orderBy:e.orderBy===t&&"asc"===e.order?"map.index":t})}))}}),r.a.createElement(we.a,null,Be(a,m,u).slice(d*s,d*s+s).map((function(e,a){return r.a.createElement(ia,{wr:e,orderBy:u,useLiveDuration:n,history:E,onClickHistory:v,key:a})}))),r.a.createElement(we.a,null,t.totalTime>0&&r.a.createElement(je.a,null,r.a.createElement(ra,{align:"right"},"Total Time"),r.a.createElement(ra,null,r.a.createElement(De.a,{title:pe.a.duration(t.totalTime,"ms").humanize(),placement:"bottom-end",enterDelay:300},r.a.createElement("span",null,Ge(t.totalTime)))),r.a.createElement(ra,{colSpan:5})))))},ma=t(136),sa=t.n(ma),ua=t(251),da=Object(ua.a)((function(e){var a=e.labels,t=e.series,n=e.title,l="dark"===e.theme.palette.type;return r.a.createElement(sa.a,{options:{labels:a,legend:{show:!1},responsive:[{breakpoint:380,options:{chart:{height:"300px"}}}],plotOptions:{pie:{donut:{labels:{show:!0,name:{show:!0},value:{show:!0,color:l?"white":"black"},total:{show:!0,label:n,color:l?"white":"black"}}}}}},series:t,type:"donut",height:"400"})})),fa=t(253),pa=t(252),ba=t(137),Ea=t.n(ba),ga=Object(d.a)((function(e){return{fab:{margin:0,top:"auto",right:30,bottom:30,left:"auto",position:"fixed"}}})),va=function(){!function e(){var a=document.documentElement.scrollTop;a>0&&(window.requestAnimationFrame(e),window.scrollTo(0,a-a/5))}()},ha=function(){var e=function(){var e=r.a.useRef(void 0),a=r.a.useState({x:0,y:0}),t=Object(c.a)(a,2),n=t[0],l=t[1],o=r.a.useCallback((function(){clearTimeout(e.current),e.current=setTimeout((function(){l({x:window.scrollX,y:window.scrollY})}),100)}),[l]);return r.a.useEffect((function(){return window.addEventListener("scroll",o),function(){clearTimeout(e.current),window.removeEventListener("scroll",o)}}),[o]),n}().y,a=ga();return r.a.createElement(pa.a,{in:0!==e,timeout:1e3},r.a.createElement(fa.a,{title:"Jump to top",color:"secondary",className:a.fab,onClick:va},r.a.createElement(Ea.a,null)))},ya=new(function(){function e(){Object(A.a)(this,e),this.baseApi="https://raw.githubusercontent.com/NeKzor/nekzor.github.io/master/iverb-stats"}return Object(X.a)(e,[{key:"request",value:function(){var e=Object(ue.a)(me.a.mark((function e(a,t){var n;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.baseApi,"/").concat(a,"/").concat(t||"latest",".json"));case 2:if(n=e.sent,console.log("GET ".concat(n.url," (").concat(n.status,")")),!n.ok){e.next=10;break}return e.next=7,n.json();case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=[];case 11:return e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,this)})));return function(a,t){return e.apply(this,arguments)}}()}]),e}()),wa=Object(d.a)((function(e){return{padTop:{paddingTop:"70px"}}})),ka=Object(de.a)((function(e){var a=e.match,t=P(),n=r.a.useState(void 0),l=Object(c.a)(n,2),o=l[0],i=l[1],m=r.a.useState(0),s=Object(c.a)(m,2),u=s[0],d=s[1],f=a.params[0],p=a.params.date,b=void 0===p||"latest"===p;r.a.useEffect((function(){d(0),i(void 0)}),[f]),r.a.useEffect((function(){Object(ue.a)(me.a.mark((function e(){var a,n,r,l;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ya.request("records",p);case 2:a=e.sent.campaigns,n=Object(se.a)(a);try{for(l=function(){var e,a=r.value,t=[],n=0,l=Object(se.a)(a.maps);try{for(l.s();!(e=l.n()).done;){var o,i=e.value,c=i.map,m=i.wrs,s=i.history,u=Object(se.a)(m);try{for(u.s();!(o=u.n()).done;){var d=o.value,f=pe()(d.date),p=b?pe()().diff(f,"d"):d.duration;t.push(Object(W.a)(Object(W.a)({map:{id:c.bestTimeId,name:c.alias,isFirst:d===m[0],isLast:d===m[m.length-1],records:m.length,history:s,index:n}},d),{},{duration:p}))}}catch(E){u.e(E)}finally{u.f()}++n}}catch(E){l.e(E)}finally{l.f()}a.maps=t,b&&a.stats.leaderboard.forEach((function(e,t){a.stats.leaderboard[t].duration=a.maps.filter((function(a){return a.user.id===e.user.id})).map((function(e){return e.duration})).reduce((function(e,a){return e+a}),0)}))},n.s();!(r=n.n()).done;)l()}catch(o){n.e(o)}finally{n.f()}if(t.current){e.next=7;break}return e.abrupt("return");case 7:i(a);case 8:case"end":return e.stop()}}),e)})))()}),[t,f,p,b]);var E=wa();return r.a.createElement(F,null,r.a.createElement(Y.a,null,void 0===o?r.a.createElement(Ee.a,null):0===o.length?r.a.createElement(oe,{data:"No data."}):r.a.createElement(r.a.Fragment,null,o.length>1&&r.a.createElement(ve.a,{value:u,onChange:function(e,a){d(a)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto"},o.map((function(e){return r.a.createElement(ge.a,{label:e.name,key:e.name})}))),r.a.createElement(T.a,{component:"div",role:"tabpanel"},r.a.createElement(be.a,{p:3},r.a.createElement(_.a,{container:!0,direction:"column",justify:"center"},r.a.createElement(_.a,{item:!0,xs:12},r.a.createElement(ca,{data:o[u].maps,stats:o[u].stats,useLiveDuration:b})),r.a.createElement(_.a,{item:!0,xs:12,className:E.padTop},r.a.createElement(_.a,{container:!0,direction:"row",justify:"center",alignContent:"center"},r.a.createElement(_.a,{item:!0,xs:12,md:6},r.a.createElement(Ye,{data:o[u].stats.leaderboard,useLiveDuration:b})),r.a.createElement(_.a,{item:!0,xs:12,md:6,className:E.padTop},r.a.createElement(_.a,{container:!0,direction:"column",justify:"center"},r.a.createElement(_.a,{item:!0,xs:12},r.a.createElement(da,{title:"WRs",labels:o[u].stats.leaderboard.map((function(e){return e.user.name})),series:o[u].stats.leaderboard.map((function(e){return e.wrs}))})),r.a.createElement(_.a,{item:!0,xs:12,className:E.padTop})))))))))),r.a.createElement(ha,null))})),xa=t(273),ja=t(257),Oa=t(256),Da=t(262),Sa=Object(d.a)((function(e){return{padTop:{paddingTop:"70px"},formControl:{margin:e.spacing(1),minWidth:120}}})),Ba=Object(de.a)((function(e){var a=e.match,t=P(),n=r.a.useState(void 0),l=Object(c.a)(n,2),o=l[0],i=l[1],m=r.a.useState(0),s=Object(c.a)(m,2),u=s[0],d=s[1],f=r.a.useState("leaderboard"),p=Object(c.a)(f,2),b=p[0],E=p[1],g=r.a.useCallback((function(e){E(e.target.value)}),[E]),v=a.params[0],h=a.params.date,y=void 0===h||"latest"===h;r.a.useEffect((function(){d(0),i(void 0)}),[v]),r.a.useEffect((function(){Object(ue.a)(me.a.mark((function e(){var a;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ya.request("ranks",h);case 2:if(a=e.sent.campaigns,t.current){e.next=5;break}return e.abrupt("return");case 5:i(a);case 6:case"end":return e.stop()}}),e)})))()}),[t,v,h,y]);var w=r.a.useCallback((function(e,a){d(a)}),[d]),k=Sa();return r.a.createElement(F,null,r.a.createElement(Y.a,null,void 0===o?r.a.createElement(Ee.a,null):0===o.length?r.a.createElement(oe,{data:"No data."}):r.a.createElement(r.a.Fragment,null,o.length>1&&r.a.createElement(ve.a,{value:u,onChange:w,indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto"},o.map((function(e){return r.a.createElement(ge.a,{label:e.name,key:e.name})}))),r.a.createElement(T.a,{component:"div",role:"tabpanel"},r.a.createElement(be.a,{p:3},r.a.createElement(Oa.a,{className:k.formControl},r.a.createElement(xa.a,null,"Rankings Type"),r.a.createElement(Da.a,{value:b,onChange:g},r.a.createElement(ja.a,{value:"leaderboard"},"Live"),r.a.createElement(ja.a,{value:"uniqueLeaderboard"},"Unique"),r.a.createElement(ja.a,{value:"historyLeaderboard"},"Total"))),r.a.createElement(_.a,{container:!0,direction:"column",justify:"center"},r.a.createElement(_.a,{item:!0,xs:12},r.a.createElement(_.a,{container:!0,direction:"row",justify:"center",alignContent:"center"},r.a.createElement(_.a,{item:!0,xs:12,md:6},r.a.createElement(Ye,{data:o[u].stats[b],showDuration:"uniqueLeaderboard"!==b,useLiveDuration:y})),r.a.createElement(_.a,{item:!0,xs:12,md:6,className:k.padTop},r.a.createElement(_.a,{container:!0,direction:"column",justify:"center"},r.a.createElement(_.a,{item:!0,xs:12},r.a.createElement(da,{title:"WRs",labels:o[u].stats[b].map((function(e){return e.user.name})),series:o[u].stats[b].map((function(e){return e.wrs}))})),r.a.createElement(_.a,{item:!0,xs:12,className:k.padTop})))))))))),r.a.createElement(ha,null))})),Ta=[{id:"map.alias",sortable:!1,label:"Map",align:"left"},{id:"score",sortable:!1,label:"Time",align:"left"},{id:"user.name",sortable:!1,label:"Player",align:"left"},{id:"delta",sortable:!1,label:"Imporvement",align:"left"},{id:"date",sortable:!1,label:"Date",align:"left"}],Ca=function(e){var a=e.order,t=e.orderBy,n=e.onRequestSort;return r.a.createElement(xe.a,null,r.a.createElement(je.a,null,Ta.map((function(e){return r.a.createElement(ke.a,{key:e.id,align:e.align,padding:"default",sortDirection:t===e.id&&a},!0===e.sortable&&r.a.createElement(De.a,{title:"Sort by "+e.label,placement:"bottom-start",enterDelay:300},r.a.createElement(Oe.a,{active:t===e.id,direction:a,onClick:(l=e.id,o=e.id2,function(e){n(e,l,o)})},e.label)),!1===e.sortable&&e.label);var l,o}))))},Na=Object(d.a)((function(e){return{root:{overflowX:"auto"},avatar:{width:e.spacing(3),height:e.spacing(3),marginRight:10}}})),Pa={order:"desc",orderBy:"delta",thenBy:"date",page:0,rowsPerPage:50},La={whiteSpace:"nowrap"},Ra={padding:"7px 0px 7px 16px"},Ma=function(e){return r.a.createElement(ke.a,Object.assign({style:Ra},e))},Ia=function(e){var a=e.data,t=(e.useLiveDuration,r.a.useState(Object(W.a)({},Pa))),n=Object(c.a)(t,2),l=n[0],o=l.order,i=l.orderBy,m=l.thenBy,s=l.rowsPerPage,u=l.page,d=n[1],f=Na();return r.a.createElement("div",{className:f.root},r.a.createElement(ye.a,{size:"small"},r.a.createElement(Ca,{order:o,orderBy:i,onRequestSort:function(e,a,t){var n=a,r=t;d((function(e){return Object(W.a)(Object(W.a)({},e),{},{order:e.orderBy===n&&"desc"===e.order?"asc":"desc",orderBy:n,thenBy:r})}))}}),r.a.createElement(we.a,null,Te(a,o,i,m).slice(u*s,u*s+s).map((function(e){return r.a.createElement(je.a,{tabIndex:-1,key:e.id},r.a.createElement(Ma,{style:La,rowSpan:"map.name"===i||"map.index"===i?e.map.records:1,align:"left"},r.a.createElement(x.a,{color:"inherit",href:"https://board.iverb.me/chamber/".concat(e.map.id),rel:"noreferrer",target:"_blank"},e.map.alias)),r.a.createElement(Ma,{align:"left"},Ge(e.score)),r.a.createElement(Ma,{align:"left"},r.a.createElement(_.a,{container:!0,direction:"row",alignItems:"center"},r.a.createElement(he.a,{className:f.avatar,src:e.user.avatar}),r.a.createElement(x.a,{style:La,color:"inherit",href:"https://board.iverb.me/profile/"+e.user.id,rel:"noreferrer",target:"_blank"},e.user.name))),r.a.createElement(Ma,{align:"left"},r.a.createElement("span",null,"-",Ge(e.delta))),r.a.createElement(Ma,{align:"left"},r.a.createElement(De.a,{title:r.a.createElement(_e.a,{fromNow:!0},e.date),placement:"bottom-end",enterDelay:300},r.a.createElement(_e.a,{style:Object(W.a)({color:Qe(e.date)},La),format:"YYYY-MM-DD"},e.date))))})))))},za=[{id:"map.alias",sortable:!1,label:"Map",align:"left"},{id:"score",sortable:!1,label:"Time",align:"left"},{id:"user.name",sortable:!1,label:"Player",align:"left"},{id:"duration",sortable:!1,label:"Duration",align:"left"},{id:"date",sortable:!1,label:"Start",align:"left"},{id:"beatenBy.date",sortable:!1,label:"Ended",align:"left"},{id:"beatenBy.user.name",sortable:!1,label:"Beaten By",align:"left"}],Ya=function(e){var a=e.order,t=e.orderBy,n=e.onRequestSort;return r.a.createElement(xe.a,null,r.a.createElement(je.a,null,za.map((function(e){return r.a.createElement(ke.a,{key:e.id,align:e.align,padding:"default",sortDirection:t===e.id&&a},!0===e.sortable&&r.a.createElement(De.a,{title:"Sort by "+e.label,placement:"bottom-start",enterDelay:300},r.a.createElement(Oe.a,{active:t===e.id,direction:a,onClick:(l=e.id,o=e.id2,function(e){n(e,l,o)})},e.label)),!1===e.sortable&&e.label);var l,o}))))},qa=Object(d.a)((function(e){return{root:{overflowX:"auto"},avatar:{width:e.spacing(3),height:e.spacing(3),marginRight:10}}})),_a={order:"desc",orderBy:"duration",thenBy:"date",page:0,rowsPerPage:50},Fa={whiteSpace:"nowrap"},Wa={padding:"7px 0px 7px 16px"},Aa=function(e){return r.a.createElement(ke.a,Object.assign({style:Wa},e))},Xa=function(e){var a=e.data,t=e.useLiveDuration,n=r.a.useState(Object(W.a)({},_a)),l=Object(c.a)(n,2),o=l[0],i=o.order,m=o.orderBy,s=o.thenBy,u=o.rowsPerPage,d=o.page,f=l[1],p=qa();return r.a.createElement("div",{className:p.root},r.a.createElement(ye.a,{size:"small"},r.a.createElement(Ya,{order:i,orderBy:m,onRequestSort:function(e,a,t){var n=a,r=t;f((function(e){return Object(W.a)(Object(W.a)({},e),{},{order:e.orderBy===n&&"desc"===e.order?"asc":"desc",orderBy:n,thenBy:r})}))}}),r.a.createElement(we.a,null,Te(a,i,m,s).slice(d*u,d*u+u).map((function(e){return r.a.createElement(je.a,{tabIndex:-1,key:e.id},r.a.createElement(Aa,{style:Fa,rowSpan:"map.name"===m||"map.index"===m?e.map.records:1,align:"left"},r.a.createElement(x.a,{color:"inherit",href:"https://board.iverb.me/chamber/".concat(e.map.id),rel:"noreferrer",target:"_blank"},e.map.alias)),r.a.createElement(Aa,{align:"left"},Ge(e.score)),r.a.createElement(Aa,{align:"left"},r.a.createElement(_.a,{container:!0,direction:"row",alignItems:"center"},r.a.createElement(he.a,{className:p.avatar,src:e.user.avatar}),r.a.createElement(x.a,{style:Fa,color:"inherit",href:"https://board.iverb.me/profile/"+e.user.id,rel:"noreferrer",target:"_blank"},e.user.name))),r.a.createElement(Aa,{align:"left"},r.a.createElement(De.a,{title:"in days",placement:"bottom-end",enterDelay:300},t?r.a.createElement(_e.a,{style:Fa,diff:e.date,unit:"days"}):r.a.createElement("span",null,e.duration))),r.a.createElement(Aa,{align:"left"},r.a.createElement(De.a,{title:r.a.createElement(_e.a,{fromNow:!0},e.date),placement:"bottom-end",enterDelay:300},r.a.createElement(_e.a,{style:Object(W.a)({color:Qe(e.date)},Fa),format:"YYYY-MM-DD"},e.date))),r.a.createElement(Aa,{align:"left"},e.beatenBy.id?r.a.createElement(De.a,{title:r.a.createElement(_e.a,{fromNow:!0},e.beatenBy.date),placement:"bottom-end",enterDelay:300},r.a.createElement(_e.a,{style:Object(W.a)({color:Qe(e.beatenBy.date)},Fa),format:"YYYY-MM-DD"},e.beatenBy.date)):r.a.createElement("span",null,"on going")),r.a.createElement(Aa,{align:"left"},e.beatenBy.id?r.a.createElement(_.a,{container:!0,direction:"row",alignItems:"center"},r.a.createElement(he.a,{className:p.avatar,src:e.beatenBy.user.avatar}),r.a.createElement(x.a,{style:Fa,color:"inherit",href:"https://board.iverb.me/profile/"+e.beatenBy.user.id,rel:"noreferrer",target:"_blank"},e.beatenBy.user.name)):r.a.createElement("span",null,"unbeaten")))})))))},Ha=Object(d.a)((function(e){return{padTop:{paddingTop:"70px"},formControl:{margin:e.spacing(1),minWidth:120}}})),Ua=Object(de.a)((function(e){var a=e.match,t=P(),n=r.a.useState(void 0),l=Object(c.a)(n,2),o=l[0],i=l[1],m=r.a.useState("longestLasting"),s=Object(c.a)(m,2),u=s[0],d=s[1],f=r.a.useCallback((function(e){d(e.target.value)}),[d]),p=a.params[0],b=a.params.date,E=void 0===b||"latest"===b;r.a.useEffect((function(){i(void 0)}),[p]),r.a.useEffect((function(){Object(ue.a)(me.a.mark((function e(){var a;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ya.request("stats",b);case 2:if(a=e.sent,t.current){e.next=5;break}return e.abrupt("return");case 5:i(a);case 6:case"end":return e.stop()}}),e)})))()}),[t,p,b,E]);var g=function(){switch(u){case"longestLasting":return Xa;case"largestImprovement":return Ia;default:return null}}(),v=Ha();return r.a.createElement(F,null,r.a.createElement(Y.a,null,void 0===o?r.a.createElement(Ee.a,null):null===o?r.a.createElement(oe,{data:"No data."}):r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{component:"div",role:"tabpanel"},r.a.createElement(be.a,{p:3},r.a.createElement(Oa.a,{className:v.formControl},r.a.createElement(xa.a,null,"Stats Type"),r.a.createElement(Da.a,{value:u,onChange:f},r.a.createElement(ja.a,{value:"longestLasting"},"Longest Lasting"),r.a.createElement(ja.a,{value:"largestImprovement"},"Largest Improvement"))),r.a.createElement(_.a,{container:!0,direction:"column",justify:"center"},r.a.createElement(_.a,{item:!0,xs:12},r.a.createElement(_.a,{container:!0,direction:"row",justify:"center",alignContent:"center"},r.a.createElement(_.a,{item:!0,xs:12},r.a.createElement(g,{data:o[u],useLiveDuration:E}))))))))),r.a.createElement(ha,null))})),Ja=Object(d.a)((function(e){return{views:{marginTop:e.spacing(5)}}})),Ka=function(){var e=r.a.useReducer.apply(r.a,Object(i.a)(U)),a=Object(c.a)(e,2),t=a[0],n=a[1],l=r.a.useMemo((function(){return Object(g.a)({palette:{primary:{light:p.a[300],main:p.a[500],dark:p.a[700]},secondary:{light:b.a[300],main:b.a[500],dark:b.a[700]},error:{main:E.a.A400},type:t.darkMode.enabled?"dark":"light"}})}),[t.darkMode.enabled]),o=Ja(),d=r.a.useMemo((function(){return{state:t,dispatch:n}}),[t,n]);return r.a.createElement(f.a,{theme:l},r.a.createElement(u.a,null),r.a.createElement(J.Provider,{value:d},r.a.createElement(m.a,{basename:"/"},r.a.createElement(M,null),r.a.createElement("div",{className:o.views},r.a.createElement(s.d,null,r.a.createElement(s.a,{exact:!0,from:"/",to:"/records"}),r.a.createElement(s.b,{exact:!0,path:"/records/:date?",component:ka}),r.a.createElement(s.b,{exact:!0,path:"/ranks/:date?",component:Ba}),r.a.createElement(s.b,{exact:!0,path:"/stats/:date?",component:Ua}),r.a.createElement(s.b,{exact:!0,path:"/about",component:$}),r.a.createElement(s.b,{exact:!0,path:"/demo",component:le}),r.a.createElement(s.b,{component:ie}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(Ka,null),document.querySelector("#root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[155,1,2]]]);
//# sourceMappingURL=main.d7d345b3.chunk.js.map